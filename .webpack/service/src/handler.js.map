{"version":3,"sources":["webpack://sender-api/external \"aws-sdk\"","webpack://sender-api/external \"uuid\"","webpack://sender-api/webpack/bootstrap","webpack://sender-api/./src/handler.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qC;;;;;;;;;;ACAA,kC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACrBa;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,aAAa;AACb,kBAAkB,mBAAO,CAAC,wBAAS;AACnC,eAAe,mBAAO,CAAC,kBAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,KAAK,GAAG,KAAK;AACpE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,2CAA2C,+tG","file":"src/handler.js","sourcesContent":["module.exports = require(\"aws-sdk\");;","module.exports = require(\"uuid\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hello = void 0;\nconst aws_sdk_1 = require(\"aws-sdk\");\nconst uuid_1 = require(\"uuid\");\nfunction setupDynamoDB() {\n    if (process.env.IS_LOCAL) {\n        const host = process.env.DB_HOST;\n        const port = process.env.DB_PORT;\n        return new aws_sdk_1.DynamoDB.DocumentClient({\n            region: host,\n            accessKeyId: 'DEFAULT_ACCESS_KEY',\n            secretAccessKey: 'DEFAULT_SECRET',\n            endpoint: new aws_sdk_1.Endpoint(`http://${host}:${port}`),\n        });\n    }\n    return new aws_sdk_1.DynamoDB.DocumentClient();\n}\nconst hello = async (event, context) => {\n    const dynamoDB = setupDynamoDB();\n    const data = {\n        TableName: process.env.DbTableName || '',\n        Item: {\n            id: uuid_1.v4(),\n            createdAt: new Date().toISOString(),\n            name: 'testname',\n        },\n    };\n    console.log('writing data to db');\n    await dynamoDB.put(data).promise();\n    console.log('reading from db');\n    const result = await dynamoDB\n        .scan({\n        TableName: 'projects',\n    })\n        .promise();\n    const response = {\n        statusCode: 200,\n        body: JSON.stringify(result),\n    };\n    return response;\n};\nexports.hello = hello;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlcyI6WyJoYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHFDQUE2QztBQUM3QywrQkFBMEI7QUFPMUIsU0FBUyxhQUFhO0lBQ3BCLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUU7UUFDeEIsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDakMsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDakMsT0FBTyxJQUFJLGtCQUFRLENBQUMsY0FBYyxDQUFDO1lBQ2pDLE1BQU0sRUFBRSxJQUFJO1lBQ1osV0FBVyxFQUFFLG9CQUFvQjtZQUNqQyxlQUFlLEVBQUUsZ0JBQWdCO1lBQ2pDLFFBQVEsRUFBRSxJQUFJLGtCQUFRLENBQUMsVUFBVSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7U0FDakQsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLElBQUksa0JBQVEsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUN2QyxDQUFDO0FBRUQsTUFBTSxLQUFLLEdBQVksS0FBSyxFQUFFLEtBQVUsRUFBRSxPQUFnQixFQUFFLEVBQUU7SUFDNUQsTUFBTSxRQUFRLEdBQUcsYUFBYSxFQUFFLENBQUM7SUFFakMsTUFBTSxJQUFJLEdBQUc7UUFDWCxTQUFTLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRTtRQUN4QyxJQUFJLEVBQUU7WUFDSixFQUFFLEVBQUUsU0FBRSxFQUFFO1lBQ1IsU0FBUyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFO1lBQ25DLElBQUksRUFBRSxVQUFVO1NBQ2pCO0tBQ0YsQ0FBQztJQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUVsQyxNQUFNLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFFbkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQy9CLE1BQU0sTUFBTSxHQUFHLE1BQU0sUUFBUTtTQUMxQixJQUFJLENBQUM7UUFDSixTQUFTLEVBQUUsVUFBVTtLQUN0QixDQUFDO1NBQ0QsT0FBTyxFQUFFLENBQUM7SUFDYixNQUFNLFFBQVEsR0FBa0I7UUFDOUIsVUFBVSxFQUFFLEdBQUc7UUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUM7S0FDN0IsQ0FBQztJQUVGLE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVPLHNCQUFLIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29udGV4dCwgSGFuZGxlciB9IGZyb20gJ2F3cy1sYW1iZGEnO1xuaW1wb3J0IHsgRHluYW1vREIsIEVuZHBvaW50IH0gZnJvbSAnYXdzLXNkayc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuXG5pbnRlcmZhY2UgSGVsbG9SZXNwb25zZSB7XG4gIHN0YXR1c0NvZGU6IG51bWJlcjtcbiAgYm9keTogc3RyaW5nO1xufVxuXG5mdW5jdGlvbiBzZXR1cER5bmFtb0RCKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuSVNfTE9DQUwpIHtcbiAgICBjb25zdCBob3N0ID0gcHJvY2Vzcy5lbnYuREJfSE9TVDtcbiAgICBjb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuREJfUE9SVDtcbiAgICByZXR1cm4gbmV3IER5bmFtb0RCLkRvY3VtZW50Q2xpZW50KHtcbiAgICAgIHJlZ2lvbjogaG9zdCxcbiAgICAgIGFjY2Vzc0tleUlkOiAnREVGQVVMVF9BQ0NFU1NfS0VZJyxcbiAgICAgIHNlY3JldEFjY2Vzc0tleTogJ0RFRkFVTFRfU0VDUkVUJyxcbiAgICAgIGVuZHBvaW50OiBuZXcgRW5kcG9pbnQoYGh0dHA6Ly8ke2hvc3R9OiR7cG9ydH1gKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IER5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG59XG5cbmNvbnN0IGhlbGxvOiBIYW5kbGVyID0gYXN5bmMgKGV2ZW50OiBhbnksIGNvbnRleHQ6IENvbnRleHQpID0+IHtcbiAgY29uc3QgZHluYW1vREIgPSBzZXR1cER5bmFtb0RCKCk7XG5cbiAgY29uc3QgZGF0YSA9IHtcbiAgICBUYWJsZU5hbWU6IHByb2Nlc3MuZW52LkRiVGFibGVOYW1lIHx8ICcnLFxuICAgIEl0ZW06IHtcbiAgICAgIGlkOiB2NCgpLFxuICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICBuYW1lOiAndGVzdG5hbWUnLFxuICAgIH0sXG4gIH07XG4gIGNvbnNvbGUubG9nKCd3cml0aW5nIGRhdGEgdG8gZGInKTtcblxuICBhd2FpdCBkeW5hbW9EQi5wdXQoZGF0YSkucHJvbWlzZSgpO1xuXG4gIGNvbnNvbGUubG9nKCdyZWFkaW5nIGZyb20gZGInKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZHluYW1vREJcbiAgICAuc2Nhbih7XG4gICAgICBUYWJsZU5hbWU6ICdwcm9qZWN0cycsXG4gICAgfSlcbiAgICAucHJvbWlzZSgpO1xuICBjb25zdCByZXNwb25zZTogSGVsbG9SZXNwb25zZSA9IHtcbiAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVzdWx0KSxcbiAgfTtcblxuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgeyBoZWxsbyB9O1xuIl19"],"sourceRoot":""}